- id: notify_person_home
  trigger:
    - platform: state
      entity_id: person.joao
      from: 'not_home'
      to: 'home'
    - platform: state
      entity_id: person.jelena
      from: 'not_home'
      to: 'home'
    - platform: state
      entity_id: person.guest1
      from: 'not_home'
      to: 'home'
    - platform: state
      entity_id: person.guest2
      from: 'not_home'
      to: 'home'
  action:
    - service: notify.joao
      data_template:
        message: >
          {% if trigger.entity_id == "person.joao" %}
            João just got home!
          {% elif trigger.entity_id == "person.jelena" %}
            Jelena just got home!
          {% elif trigger.entity_id == "person.guest1" %}
            Guest 1 just got home!
          {% elif trigger.entity_id == "person.guest2" %}
            Guest 2 just got home!
          {% endif %}

- id: notify_person_away
  trigger:
    - platform: state
      entity_id: person.joao
      from: 'home'
      to: 'not_home'
    - platform: state
      entity_id: person.jelena
      from: 'home'
      to: 'not_home'
    - platform: state
      entity_id: person.guest1
      from: 'home'
      to: 'not_home'
    - platform: state
      entity_id: person.guest2
      from: 'home'
      to: 'not_home'
  action:
    - service: notify.joao
      data_template:
        message: >
          {% if trigger.entity_id == "person.joao" %}
            João just left the house!
          {% elif trigger.entity_id == "person.jelena" %}
            Jelena just left the house!
          {% elif trigger.entity_id == "person.guest1" %}
            Guest 1 just left the house!
          {% elif trigger.entity_id == "person.guest2" %}
            Guest 2 just left the house!
          {% endif %}
