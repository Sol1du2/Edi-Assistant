- id: rosetta_on_telegram
  alias: Turn on Rosetta via Telegram
  trigger:
    platform: event
    event_type: telegram_command
    event_data:
      command: '/rosetta_on'
  action:
    - service: remote.turn_on
      entity_id: remote.rosetta
    - service: telegram_bot.send_message
      data:
        target: "{{ trigger.event.data.chat_id }}"
        message: Rosetta turned on

- id: rosetta_off_telegram
  alias: Turn off Rosetta via Telegram
  trigger:
    platform: event
    event_type: telegram_command
    event_data:
      command: '/rosetta_off'
  action:
    - service: remote.turn_off
      entity_id: remote.rosetta
    - service: telegram_bot.send_message
      data:
        target: "{{ trigger.event.data.chat_id }}"
        message: Rosetta turned off

- id: rosetta_off_telegram_callback
  alias: Turn off Rosetta telegram callback
  trigger:
    platform: event
    event_type: telegram_callback
    event_data:
      command: '/rosetta_off'
  action:
    - service: remote.turn_off
      entity_id: remote.rosetta
    - service: telegram_bot.answer_callback_query
      data:
        callback_query_id: "{{ trigger.event.data.id }}"
        message: Rosetta turned off
        show_alert: true

- id: do_nothing_rosetta
  alias: Do nothing Rosetta telegram callback
  trigger:
    platform: event
    event_type: telegram_callback
    event_data:
      command: '/rosetta_do_nothing'
  action:
    - service: telegram_bot.answer_callback_query
      data:
        callback_query_id: "{{ trigger.event.data.id }}"
        message: Ok, I will leave Rosetta on ðŸ˜„
        show_alert: true